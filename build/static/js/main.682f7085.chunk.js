(this.webpackJsonpphonebook_frontend=this.webpackJsonpphonebook_frontend||[]).push([[0],{16:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(15),o=t.n(c),l=t(4),u=t(5),i=t(3),m=t(2),s=t.n(m),d="/api/persons",f=function(){var e=s.a.get(d);return console.log("frontend"),e.then((function(e){return e.data}))},E=function(e){return console.log("frontend"),s.a.post(d,e).then((function(e){return e.data}))},b=function(e,n){return s.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},h=function(e){return s.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},p=function(e){var n=e.notificationMessage,t={color:n.color,fontStyle:"italic",fontSize:"16",border:"3px solid ".concat(n.color)};return r.a.createElement("div",{style:t},r.a.createElement("p",null,n.message))},v=function(e){var n=e.handleSearch,t=e.searchedName;return r.a.createElement("div",null,r.a.createElement("input",{value:t,onChange:n}))},g=function(e){var n=e.handleInputs,t=e.addPerson,a=e.newPerson;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement("label",null,"Name:"),r.a.createElement("br",null),r.a.createElement("input",{value:a.name,onChange:n,name:"name"})),r.a.createElement("div",null,r.a.createElement("label",null,"Number:"),r.a.createElement("br",null),r.a.createElement("input",{value:a.number,onChange:n,name:"number"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")))},j=function(e){var n=e.person,t=n.name,a=n.number,c=e.deletePerson;return r.a.createElement("div",null,r.a.createElement("p",null,t),r.a.createElement("p",null,a)," ",r.a.createElement("p",null,r.a.createElement("button",{onClick:c},"delete")))},O=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)({name:"",number:""}),m=Object(i.a)(o,2),s=m[0],d=m[1],O=Object(a.useState)(""),w=Object(i.a)(O,2),S=w[0],k=w[1],C=Object(a.useState)({color:"",message:""}),P=Object(i.a)(C,2),y=P[0],N=P[1];Object(a.useEffect)((function(){f().then((function(e){c(e)}))}),[]);var x=function(e,n){N({color:e,message:n}),setTimeout((function(){N({color:"",message:""})}),5e3)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook "),""!==y.message&&r.a.createElement(p,{notificationMessage:y}),r.a.createElement("div",null,r.a.createElement("h3",null,"Search "),r.a.createElement(v,{handleSearch:function(e){k(e.target.value)},searchedName:S})),r.a.createElement("div",null,r.a.createElement("h3",null,"Add new contact "),r.a.createElement(g,{handleInputs:function(e){d(Object(u.a)(Object(u.a)({},s),{},Object(l.a)({},e.target.name,e.target.value)))},addPerson:function(e){e.preventDefault();var n=t.find((function(e){return e.name===s.name}));""===s.name?x("red","Esse nome n\xe3o pode ser branco."):""===s.number||(n?(window.confirm("".concat(s.name," j\xe1 est\xe1 na lista. Deseja atualizar o n\xfamero?"))&&b(n.id,s).then((function(e){c(t.map((function(n){return n.name!==s.name?n:e})))})).catch((function(e){x("red","Esse usu\xe1rio j\xe1 foi exclu\xeddo"),c(t.filter((function(e){return e.id!==n.id})))})),d({name:"",number:""})):(E(s).then((function(e){return c(t.concat(e))})),x("green","".concat(s.name," adicionado aos contatos.")),d({name:"",number:""})))},newPerson:s})),r.a.createElement("div",null,r.a.createElement("h3",null,"Contacts "),r.a.createElement("div",null,t.length>0&&t.map((function(e){return e.name.toLowerCase().includes(S.toLowerCase())?r.a.createElement(j,{key:e.id,person:e,deletePerson:function(){return n=e.id,void(window.confirm("Tem certeza que deseja deletar esse contato?")&&h(n).then((function(e){return c(t.filter((function(e){return e.id!==n})))})));var n}}):""})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.682f7085.chunk.js.map